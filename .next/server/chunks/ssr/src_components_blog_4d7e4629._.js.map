{"version":3,"sources":["../../../../src/components/blog/Post.tsx","../../../../src/utils/formatDate.ts","../../../../src/components/blog/ShareSection.tsx"],"sourcesContent":["\"use client\";\n\nimport { Card, Column, Media, Row, Avatar, Text } from \"@once-ui-system/core\";\nimport { formatDate } from \"@/utils/formatDate\";\nimport { person } from \"@/resources\";\n\ninterface PostProps {\n  post: any;\n  thumbnail: boolean;\n  direction?: \"row\" | \"column\";\n}\n\nexport default function Post({ post, thumbnail, direction }: PostProps) {\n  return (\n    <Card\n      fillWidth\n      key={post.slug}\n      href={`/blog/${post.slug}`}\n      transition=\"micro-medium\"\n      direction={direction}\n      border=\"transparent\"\n      background=\"transparent\"\n      padding=\"4\"\n      radius=\"l-4\"\n      gap={direction === \"column\" ? undefined : \"24\"}\n      s={{ direction: \"column\" }}\n    >\n      {post.metadata.image && thumbnail && (\n        <Media\n          priority\n          sizes=\"(max-width: 768px) 100vw, 750px\"\n          border=\"neutral-alpha-weak\"\n          cursor=\"interactive\"\n          radius=\"l\"\n          src={post.metadata.image}\n          alt={\"Thumbnail of \" + post.metadata.title}\n          aspectRatio=\"16 / 9\"\n        />\n      )}\n      <Row fillWidth>\n        <Column maxWidth={28} paddingY=\"24\" paddingX=\"l\" gap=\"20\" vertical=\"center\">\n          <Row gap=\"24\" vertical=\"center\">\n            <Row vertical=\"center\" gap=\"16\">\n              <Avatar src={person.avatar} size=\"s\" />\n              <Text variant=\"label-default-s\">{person.name}</Text>\n            </Row>\n            <Text variant=\"body-default-xs\" onBackground=\"neutral-weak\">\n              {formatDate(post.metadata.publishedAt, false)}\n            </Text>\n          </Row>\n          <Text variant=\"heading-strong-l\" wrap=\"balance\">\n            {post.metadata.title}\n          </Text>\n          {post.metadata.tag && (\n            <Text variant=\"label-strong-s\" onBackground=\"neutral-weak\">\n              {post.metadata.tag}\n            </Text>\n          )}\n        </Column>\n      </Row>\n    </Card>\n  );\n}\n","export function formatDate(date: string, includeRelative = false) {\n  const currentDate = new Date();\n\nif (typeof date !== \"string\" || !date) return '';\n\n  const targetDate = new Date(date);\n  const yearsAgo = currentDate.getFullYear() - targetDate.getFullYear();\n  const monthsAgo = currentDate.getMonth() - targetDate.getMonth();\n  const daysAgo = currentDate.getDate() - targetDate.getDate();\n\n  let formattedDate = \"\";\n\n  if (yearsAgo > 0) {\n    formattedDate = `${yearsAgo}y ago`;\n  } else if (monthsAgo > 0) {\n    formattedDate = `${monthsAgo}mo ago`;\n  } else if (daysAgo > 0) {\n    formattedDate = `${daysAgo}d ago`;\n  } else {\n    formattedDate = \"Today\";\n  }\n\n  const fullDate = targetDate.toLocaleString(\"en-us\", {\n    month: \"long\",\n    day: \"numeric\",\n    year: \"numeric\",\n  });\n\n  if (!includeRelative) {\n    return fullDate;\n  }\n\n  return `${fullDate} (${formattedDate})`;\n}\n","\"use client\";\n\nimport { Row, Text, Button, useToast } from \"@once-ui-system/core\";\nimport { socialSharing } from \"@/resources\";\n\ninterface ShareSectionProps {\n  title: string;\n  url: string;\n}\n\ninterface SocialPlatform {\n  name: string;\n  icon: string;\n  label: string;\n  generateUrl: (title: string, url: string) => string;\n}\n\nconst socialPlatforms: Record<string, SocialPlatform> = {\n  x: {\n    name: \"x\",\n    icon: \"twitter\",\n    label: \"X\",\n    generateUrl: (title, url) => \n      `https://twitter.com/intent/tweet?text=${encodeURIComponent(title)}&url=${encodeURIComponent(url)}`,\n  },\n  linkedin: {\n    name: \"linkedin\",\n    icon: \"linkedin\",\n    label: \"LinkedIn\",\n    generateUrl: (title, url) => \n      `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(url)}`,\n  },\n  facebook: {\n    name: \"facebook\",\n    icon: \"facebook\",\n    label: \"Facebook\",\n    generateUrl: (title, url) => \n      `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`,\n  },\n  pinterest: {\n    name: \"pinterest\",\n    icon: \"pinterest\",\n    label: \"Pinterest\",\n    generateUrl: (title, url) => \n      `https://pinterest.com/pin/create/button/?url=${encodeURIComponent(url)}&description=${encodeURIComponent(title)}`,\n  },\n  whatsapp: {\n    name: \"whatsapp\",\n    icon: \"whatsapp\",\n    label: \"WhatsApp\",\n    generateUrl: (title, url) => \n      `https://wa.me/?text=${encodeURIComponent(`${title} ${url}`)}`,\n  },\n  reddit: {\n    name: \"reddit\",\n    icon: \"reddit\",\n    label: \"Reddit\",\n    generateUrl: (title, url) => \n      `https://reddit.com/submit?url=${encodeURIComponent(url)}&title=${encodeURIComponent(title)}`,\n  },\n  telegram: {\n    name: \"telegram\",\n    icon: \"telegram\",\n    label: \"Telegram\",\n    generateUrl: (title, url) => \n      `https://t.me/share/url?url=${encodeURIComponent(url)}&text=${encodeURIComponent(title)}`,\n  },\n  email: {\n    name: \"email\",\n    icon: \"email\",\n    label: \"Email\",\n    generateUrl: (title, url) => \n      `mailto:?subject=${encodeURIComponent(title)}&body=${encodeURIComponent(`Check out this post: ${url}`)}`,\n  },\n};\n\nexport function ShareSection({ title, url }: ShareSectionProps) {\n  const { addToast } = useToast();\n  // Don't render if sharing is disabled\n  if (!socialSharing.display) {\n    return null;\n  }\n\n  const handleCopy = async () => {\n    try {\n      await navigator.clipboard.writeText(url);\n      addToast({\n        variant: \"success\",\n        message: \"Link copied to clipboard\",\n      });\n    } catch (err) {\n      console.error('Failed to copy: ', err);\n      addToast({\n        variant: \"danger\",\n        message: \"Failed to copy link\",\n      });\n    }\n  };\n\n  // Get enabled platforms\n  const enabledPlatforms = Object.entries(socialSharing.platforms)\n    .filter(([_, enabled]) => enabled && _ !== 'copyLink')\n    .map(([platformKey]) => ({ key: platformKey, ...socialPlatforms[platformKey] }))\n    .filter(platform => platform.name); // Filter out platforms that don't exist in our definitions\n\n  return (\n    <Row fillWidth center gap=\"16\" marginTop=\"32\" marginBottom=\"16\">\n      <Text variant=\"label-default-m\" onBackground=\"neutral-weak\">\n        Share this post:\n      </Text>\n      <Row data-border=\"rounded\" gap=\"16\" horizontal=\"center\" wrap>\n        {enabledPlatforms.map((platform, index) => (\n          <Button key={index} variant=\"secondary\" size=\"s\" href={platform.generateUrl(title, url)} prefixIcon={platform.icon} />\n        ))}\n        \n        {socialSharing.platforms.copyLink && (\n          <Button\n            variant=\"secondary\"\n            size=\"s\"\n            onClick={handleCopy}\n            prefixIcon=\"openLink\"\n          />\n        )}\n      </Row>\n    </Row>\n  );\n}\n"],"names":[],"mappings":"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"}