1:"$Sreact.fragment"
2:I[78454,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","/newPortfolio/_next/static/chunks/6e7703b840071812.js","/newPortfolio/_next/static/chunks/4c25d240ef55c323.js"],"Row"]
3:I[73323,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","/newPortfolio/_next/static/chunks/6e7703b840071812.js","/newPortfolio/_next/static/chunks/4c25d240ef55c323.js"],"Column"]
4:I[79520,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","/newPortfolio/_next/static/chunks/6e7703b840071812.js","/newPortfolio/_next/static/chunks/4c25d240ef55c323.js"],""]
5:I[24379,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","/newPortfolio/_next/static/chunks/6e7703b840071812.js","/newPortfolio/_next/static/chunks/4c25d240ef55c323.js"],"SmartLink"]
6:I[45250,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","/newPortfolio/_next/static/chunks/6e7703b840071812.js","/newPortfolio/_next/static/chunks/4c25d240ef55c323.js"],"Avatar"]
7:I[98382,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","/newPortfolio/_next/static/chunks/6e7703b840071812.js","/newPortfolio/_next/static/chunks/4c25d240ef55c323.js"],"Media"]
8:I[11052,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","/newPortfolio/_next/static/chunks/6e7703b840071812.js","/newPortfolio/_next/static/chunks/4c25d240ef55c323.js"],"HeadingLink"]
36:I[97784,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","/newPortfolio/_next/static/chunks/6e7703b840071812.js","/newPortfolio/_next/static/chunks/4c25d240ef55c323.js"],"CodeBlock"]
3a:I[36122,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","/newPortfolio/_next/static/chunks/6e7703b840071812.js","/newPortfolio/_next/static/chunks/4c25d240ef55c323.js"],"List"]
3b:I[26935,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","/newPortfolio/_next/static/chunks/6e7703b840071812.js","/newPortfolio/_next/static/chunks/4c25d240ef55c323.js"],"ListItem"]
3c:I[48588,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","/newPortfolio/_next/static/chunks/6e7703b840071812.js","/newPortfolio/_next/static/chunks/4c25d240ef55c323.js"],"ShareSection"]
3d:I[96470,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","/newPortfolio/_next/static/chunks/6e7703b840071812.js","/newPortfolio/_next/static/chunks/4c25d240ef55c323.js"],"ClientGrid"]
3e:I[14360,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","/newPortfolio/_next/static/chunks/6e7703b840071812.js","/newPortfolio/_next/static/chunks/4c25d240ef55c323.js"],"default"]
41:I[88654,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","/newPortfolio/_next/static/chunks/6e7703b840071812.js","/newPortfolio/_next/static/chunks/4c25d240ef55c323.js"],"ScrollToHash"]
42:I[41118,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","/newPortfolio/_next/static/chunks/6e7703b840071812.js","/newPortfolio/_next/static/chunks/4c25d240ef55c323.js"],"Icon"]
43:I[5649,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","/newPortfolio/_next/static/chunks/6e7703b840071812.js","/newPortfolio/_next/static/chunks/4c25d240ef55c323.js"],"HeadingNav"]
44:I[97367,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/1a476e30dee46234.js"],"OutletBoundary"]
45:"$Sreact.suspense"
0:{"buildId":"jqWEP_6D6-p6AOaHIIgYB","rsc":["$","$1","c",{"children":[["$","$L2",null,{"fillWidth":true,"children":[["$","$L2",null,{"maxWidth":12,"m":{"hide":true}}],["$","$L2",null,{"fillWidth":true,"horizontal":"center","children":["$","$L3",null,{"as":"section","maxWidth":"m","horizontal":"center","gap":"l","paddingTop":"24","children":[["$","$L4",null,{"id":"schema-blogPosting-/blog/FirstContexts","type":"application/ld+json","dangerouslySetInnerHTML":{"__html":"{\"@context\":\"https://schema.org\",\"@type\":\"BlogPosting\",\"url\":\"https://kedycatsudo.github.io/newPortfolio/blog/FirstContexts\",\"sameAs\":[],\"headline\":\"Priceless learning and extremely satisfied code quality. It's all about consistency.\",\"description\":\"\",\"image\":\"https://kedycatsudo.github.io/newPortfolio/newPortfolio/images/gallery/myfinancelogo.png\",\"datePublished\":\"2026-01-08\",\"dateModified\":\"2026-01-08\",\"author\":{\"@type\":\"Person\",\"name\":\"Doruk Kocausta\",\"url\":\"https://kedycatsudo.github.io/newPortfolio//about\",\"image\":{\"@type\":\"ImageObject\",\"url\":\"https://kedycatsudo.github.io/newPortfolio//newPortfolio/images/dorukAvatar.jpg\"}}}"}}],["$","$L3",null,{"maxWidth":"s","gap":"16","horizontal":"center","align":"center","children":[["$","$L5",null,{"href":"/blog","children":["$","span",null,{"className":"font-label font-strong font-m","style":{},"children":"Blog"}]}],["$","span",null,{"className":"font-body font-default font-xs neutral-on-background-weak mb-12","style":{},"children":"January 7, 2026"}],["$","h1",null,{"className":"font-display font-strong font-m neutral-on-background-strong","style":{"textWrap":"balance"},"children":"Priceless learning and extremely satisfied code quality. It's all about consistency."}],""]}],["$","$L2",null,{"marginBottom":"32","horizontal":"center","children":["$","$L2",null,{"gap":"16","vertical":"center","children":[["$","$L6",null,{"size":"s","src":"/newPortfolio/images/dorukAvatar.jpg"}],["$","span",null,{"className":"font-label font-default font-m brand-on-background-weak","style":{},"children":"Doruk Kocausta"}]]}]}],["$","$L7",null,{"src":"/newPortfolio/images/gallery/myfinancelogo.png","alt":"Priceless learning and extremely satisfied code quality. It's all about consistency.","aspectRatio":"16/9","priority":true,"sizes":"(min-width: 768px) 100vw, 768px","border":"neutral-alpha-weak","radius":"l","marginTop":"12","marginBottom":"8"}],["$","$L3",null,{"as":"article","maxWidth":"s","children":[["$","$L8",null,{"marginTop":"24","marginBottom":"12","as":"h1","id":"priceless-learning-and-extremely-satisfied-code-quality.-it-s-all-about-consistency.","children":"Priceless learning and extremely satisfied code quality. It's all about consistency."}],"\n",["$","span",null,{"className":"font-body font-default font-m neutral-on-background-medium mt-8 mb-12","style":{"lineHeight":"175%"},"children":"Hello everyone! Last time I shared an update about the MyFinance project, my frontend design was ready for the logic part. A lot has changed since then, so here’s a deep dive into what’s new, what I had to figure out, and how everything connects."}],"\n",["$","$L8",null,{"marginTop":"24","marginBottom":"12","as":"h2","id":"what-are-the-new-additions","children":"What are the new additions?"}],"\n",["$","span",null,{"className":"font-body font-default font-m neutral-on-background-medium mt-8 mb-12","style":{"lineHeight":"175%"},"children":[["$","strong",null,{"children":"user.ts types"}],["$","br",null,{}],"\n",["$","strong",null,{"children":"user.ts data"}],["$","br",null,{}],"\n",["$","strong",null,{"children":"AuthContex.tsx"}],["$","br",null,{}],"\n",["$","strong",null,{"children":"ModalContext.tsx"}],["$","br",null,{}],"\n",["$","strong",null,{"children":"ThemeContext.tsx"}],["$","br",null,{}],"\n",["$","strong",null,{"children":"AppModals.tsx"}]]}],"\n",["$","$L8",null,{"marginTop":"24","marginBottom":"12","as":"h3","id":"what-did-i-have-to-figure-out","children":"What did I have to figure out?"}],"\n",["$","span",null,{"className":"font-body font-default font-m neutral-on-background-medium mt-8 mb-12","style":{"lineHeight":"175%"},"children":"I needed a way to keep user information accessible everywhere in the app. But I wanted more than just storing user info—I wanted to manage login, register, and user updates all together, so I could easily use them anywhere in my application. That’s how AuthContext came to life."}],"\n","$L9","\n","$La","\n","$Lb","\n","$Lc","\n","$Ld","\n","$Le","\n","$Lf","\n","$L10","\n","$L11","\n","$L12","\n","$L13","\n","$L14","\n","$L15","\n","$L16","\n","$L17","\n","$L18","\n","$L19","\n","$L1a","\n","$L1b","\n","$L1c","\n","$L1d","\n","$L1e","\n","$L1f","\n","$L20","\n","$L21","\n","$L22","\n","$L23","\n","$L24","\n","$L25","\n","$L26","\n","$L27","\n","$L28","\n","$L29","\n","$L2a","\n","$L2b","\n","$L2c","\n","$L2d","\n","$L2e","\n","$L2f"]}],"$L30","$L31","$L32"]}]}],"$L33"]}],["$L34"],"$L35"]}],"loading":null,"isPartial":false}
9:["$","span",null,{"className":"font-body font-default font-m neutral-on-background-medium mt-8 mb-12","style":{"lineHeight":"175%"},"children":["I also realized I needed a modal that could handle ",["$","em",null,{"children":"any"}]," user feedback, not just special cases. My last project (MealMatch) taught me a lesson: creating a bunch of different modals leads to headaches. So, I wanted a solution that could handle all kinds of content and actions in ",["$","em",null,{"children":"one"}]," reusable modal. And that’s how AppModal was born."]}]
a:["$","span",null,{"className":"font-body font-default font-m neutral-on-background-medium mt-8 mb-12","style":{"lineHeight":"175%"},"children":"Once I began thinking about information modals, I understood that I needed a ModalContext to control and display these modals with different content and buttons—sometimes confirm/cancel, sometimes just OK. ModalContext solved this elegantly."}]
b:["$","span",null,{"className":"font-body font-default font-m neutral-on-background-medium mt-8 mb-12","style":{"lineHeight":"175%"},"children":"I wanted a simple way to add dark/light mode to the UI, so ThemeContext became the solution for toggling themes with one button anywhere in the site."}]
c:["$","span",null,{"className":"font-body font-default font-m neutral-on-background-medium mt-8 mb-12","style":{"lineHeight":"175%"},"children":"To make all this work, I needed a sample user and a clear definition for what a user object looks like. So I created data/user.ts and types/user.ts."}]
d:["$","$L2",null,{"fillWidth":true,"horizontal":"center","children":["$","div",null,{"className":"display-flex position-relative neutral-background-strong flex-row min-width-0 fill-width ","style":{"maxWidth":"var(--static-space-40)","minHeight":"var(--static-space-1)","height":"var(--static-space-1)"}}]}]
e:["$","$L8",null,{"marginTop":"24","marginBottom":"12","as":"h2","id":"explaining-my-code-how-does-everything-connect","children":"Explaining my code: How does everything connect?"}]
f:["$","$L8",null,{"marginTop":"24","marginBottom":"12","as":"h3","id":"types-user.ts","children":"types/user.ts"}]
10:["$","$L36",null,{"marginTop":"8","marginBottom":"16","codes":[{"code":"export interface User {\n  id: string;\n  username: string;\n  email: string;\n  monthlyCircleDate: string;\n  hashedPassword: string;\n}\n","language":"typescript","label":"Typescript"}],"copyButton":true}]
11:["$","span",null,{"className":"font-body font-default font-m neutral-on-background-medium mt-8 mb-12","style":{"lineHeight":"175%"},"children":"This file defines what a user looks like in my app—with id, username, email, monthlyCircleDate (for tracking), and the hashed password (very important for authentication)."}]
12:["$","$L2",null,{"fillWidth":true,"horizontal":"center","children":["$","div",null,{"className":"display-flex position-relative neutral-background-strong flex-row min-width-0 fill-width ","style":{"maxWidth":"var(--static-space-40)","minHeight":"var(--static-space-1)","height":"var(--static-space-1)"}}]}]
13:["$","$L8",null,{"marginTop":"24","marginBottom":"12","as":"h3","id":"data-user.ts","children":"data/user.ts"}]
14:["$","$L36",null,{"marginTop":"8","marginBottom":"16","codes":[{"code":"import { User } from '@/types/user';\n\nexport const mockUser: User[] = [\n  {\n    id: 'u1',\n    username: 'kedycat',\n    email: 'kat@example.com',\n    monthlyCircleDate: '2024-01-01',\n    hashedPassword: '$2b$12$fakeBcryptHashForNow',\n  },\n];\n","language":"typescript","label":"Typescript"}],"copyButton":true}]
15:["$","span",null,{"className":"font-body font-default font-m neutral-on-background-medium mt-8 mb-12","style":{"lineHeight":"175%"},"children":["Why do I need this?",["$","br",null,{}],"\n","Since I don’t have a backend yet, I use mockUser to simulate a real user—makes development smoother and lets me test login/register logic."]}]
16:["$","$L2",null,{"fillWidth":true,"horizontal":"center","children":["$","div",null,{"className":"display-flex position-relative neutral-background-strong flex-row min-width-0 fill-width ","style":{"maxWidth":"var(--static-space-40)","minHeight":"var(--static-space-1)","height":"var(--static-space-1)"}}]}]
17:["$","$L8",null,{"marginTop":"24","marginBottom":"12","as":"h3","id":"authcontext.tsx","children":"AuthContext.tsx"}]
37:Ta23,'use client'
import React, { createContext, useContext, useState, ReactNode } from 'react'
import { User } from '@/types/user'
import { mockUser } from '@/data/user'

type AuthContextType = {
  currentUser: User | null
  login: (username: string, password: string) => { success: boolean; message: string }
  logout: () => void
  register: (user: Omit<User, 'id' | 'hashedPassword'> & { password: string }) => {
    success: boolean
    message: string
  }
  isAuthenticated: boolean
}

const AuthContext = createContext<AuthContextType | undefined>(undefined)

export function AuthProvider({ children }: { children: ReactNode }) {
  const [users, setUsers] = useState<User[]>(mockUser)
  const [currentUser, setCurrentUser] = useState<User | null>(null)

  // Login checks for a matching username and password in the mock users array.
  function login(username: string, password: string) {
    const user = users.find(u => u.username === username)
    if (!user) {
      return { success: false, message: 'User not found' }
    }
    // WARNING: This "password check" is just for the MVP. Real apps should always hash+salt and check server side!
    if (user.hashedPassword !== password) {
      return { success: false, message: 'Login failed. Incorrect password.' }
    }
    setCurrentUser(user)
    return { success: true, message: 'Login successful.' }
  }

  // Logout wipes out the current user (logs out).
  function logout() {
    setCurrentUser(null)
  }

  // Register adds a new user, making sure the username and email are unique.
  function register(newUser: Omit<User, 'id' | 'hashedPassword'> & { password: string }) {
    if (users.some(u => u.username === newUser.username || u.email === newUser.email)) {
      return { success: false, message: 'Username or email already exists.' }
    }
    const fakeHashed = newUser.password // For demo only!
    const user: User = {
      ...newUser,
      id: 'user' + (users.length + 1),
      hashedPassword: fakeHashed,
    }
    setUsers([...users, user])
    setCurrentUser(user)
    return { success: true, message: 'Registration successful' }
  }

  return (
    <AuthContext.Provider
      value={{
        currentUser,
        login,
        logout,
        register,
        isAuthenticated: !!currentUser,
      }}
    >
      {children}
    </AuthContext.Provider>
  )
}

// useAuth provides an easy way for any component to access login, logout, register, and user info.
export function useAuth() {
  const ctx = useContext(AuthContext)
  if (!ctx) throw new Error('useAuth must be used under AuthProvider')
  return ctx
}
18:["$","$L36",null,{"marginTop":"8","marginBottom":"16","codes":[{"code":"$37","language":"typescript","label":"Typescript"}],"copyButton":true}]
19:["$","span",null,{"className":"font-body font-default font-m neutral-on-background-medium mt-8 mb-12","style":{"lineHeight":"175%"},"children":[["$","strong",null,{"children":"Explanation:"}],["$","br",null,{}],"\n","AuthProvider wraps the app and lets me read or write user info from anywhere! Login, logout, and register become simple function calls. The user data lives in context, so I won’t need to pass it around with props.",["$","br",null,{}],"\n","For now, it uses mock data and fake password checking—real authentication always belongs on the server!"]}]
1a:["$","$L2",null,{"fillWidth":true,"horizontal":"center","children":["$","div",null,{"className":"display-flex position-relative neutral-background-strong flex-row min-width-0 fill-width ","style":{"maxWidth":"var(--static-space-40)","minHeight":"var(--static-space-1)","height":"var(--static-space-1)"}}]}]
1b:["$","$L8",null,{"marginTop":"24","marginBottom":"12","as":"h3","id":"modalcontext.tsx","children":"ModalContext.tsx"}]
38:T5ec,'use client'
import { createContext, useContext, useState, ReactNode } from 'react'

type ModalState = {
  isOpen: boolean
  message: string
  onConfirm?: () => void
  onCancel?: () => void
  showConfirm?: boolean
}

type ModalContextType = {
  modal: ModalState
  showModal: (message: string) => void
  showConfirmModal: (message: string, onConfirm: () => void, onCancel: () => void) => void
  closeModal: () => void
}

const ModalContext = createContext<ModalContextType | undefined>(undefined)

export function ModalProvider({ children }: { children: ReactNode }) {
  const [modal, setModal] = useState<ModalState>({
    isOpen: false,
    message: '',
    showConfirm: false,
  })

  // showModal opens a regular message-only modal.
  function showModal(message: string) {
    setModal({ isOpen: true, message, showConfirm: false })
  }
  // showConfirmModal opens a modal with confirm/cancel buttons and custom handlers.
  function showConfirmModal(message: string, onConfirm: () => void, onCancel: () => void) {
    setModal({ isOpen: true, message, showConfirm: true, onConfirm, onCancel })
  }
  // closeModal closes the modal.
  function closeModal() {
    setModal({ ...modal, isOpen: false })
  }
  return (
    <ModalContext.Provider value={{ modal, showModal, showConfirmModal, closeModal }}>
      {children}
    </ModalContext.Provider>
  )
}

export function useModal() {
  const ctx = useContext(ModalContext)
  if (!ctx) throw new Error('useModal must be used inside ModalProvider')
  return ctx
}
1c:["$","$L36",null,{"marginTop":"8","marginBottom":"16","codes":[{"code":"$38","language":"typescript","label":"Typescript"}],"copyButton":true}]
1d:["$","span",null,{"className":"font-body font-default font-m neutral-on-background-medium mt-8 mb-12","style":{"lineHeight":"175%"},"children":[["$","strong",null,{"children":"Explanation:"}],["$","br",null,{}],"\n","ModalProvider lets me show modals from anywhere with functions: ",["$","span",null,{"className":"display-inline-flex position-relative px-4 py-1 neutral-background-alpha-weak neutral-border-alpha-medium border-solid border-1 radius-s align-center fit font-code InlineCode-module-scss-module__VeMgoW__inlineCode ","style":{},"children":"showModal"}]," for info modals, ",["$","span",null,{"className":"display-inline-flex position-relative px-4 py-1 neutral-background-alpha-weak neutral-border-alpha-medium border-solid border-1 radius-s align-center fit font-code InlineCode-module-scss-module__VeMgoW__inlineCode ","style":{},"children":"showConfirmModal"}]," for confirm/cancel modals.",["$","br",null,{}],"\n","Modal state and controls live in context, so UI stays organized and powerful."]}]
1e:["$","$L2",null,{"fillWidth":true,"horizontal":"center","children":["$","div",null,{"className":"display-flex position-relative neutral-background-strong flex-row min-width-0 fill-width ","style":{"maxWidth":"var(--static-space-40)","minHeight":"var(--static-space-1)","height":"var(--static-space-1)"}}]}]
1f:["$","$L8",null,{"marginTop":"24","marginBottom":"12","as":"h3","id":"appmodals.tsx","children":"AppModals.tsx"}]
39:T4c5,'use client'
import { useModal } from '@/context/ModalContext'

export default function AppModal() {
  const { modal, closeModal } = useModal()

  if (!modal.isOpen) return null

  // Shows the modal UI when isOpen is true.
  return (
    <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50">
      <div className="bg-[#989899] rounded p-6 shadow-lg min-w-[250px] text-center">
        <p className="mb-4">{modal.message}</p>
        {modal.showConfirm ? (
          <div className="flex gap-3 justify-center">
            <button
              className="bg-red-600 text-white p-2 rounded"
              onClick={() => {
                modal.onCancel?.()
                closeModal()
              }}>
              Cancel
            </button>
            <button
              className="bg-[#29388A]-600 text-white p-2 rounded"
              onClick={() => {
                modal.onConfirm?.()
                closeModal()
              }}>
              Confirm
            </button>
          </div>
        ) : (
          <button className="bg-[#29388A] text-white p-2 rounded w-full" onClick={closeModal}>
            OK
          </button>
        )}
      </div>
    </div>
  )
}
20:["$","$L36",null,{"marginTop":"8","marginBottom":"16","codes":[{"code":"$39","language":"typescript","label":"Typescript"}],"copyButton":true}]
21:["$","span",null,{"className":"font-body font-default font-m neutral-on-background-medium mt-8 mb-12","style":{"lineHeight":"175%"},"children":[["$","strong",null,{"children":"Explanation:"}],["$","br",null,{}],"\n","AppModal listens to the modal context and renders a visually appealing popup whenever ",["$","span",null,{"className":"display-inline-flex position-relative px-4 py-1 neutral-background-alpha-weak neutral-border-alpha-medium border-solid border-1 radius-s align-center fit font-code InlineCode-module-scss-module__VeMgoW__inlineCode ","style":{},"children":"modal.isOpen"}]," is true.",["$","br",null,{}],"\n","It automatically offers confirm/cancel buttons if it’s a confirm modal, or just OK otherwise.",["$","br",null,{}],"\n","Thanks to ModalContext, I never need dozens of different modal components—just this one does it all!"]}]
22:["$","$L2",null,{"fillWidth":true,"horizontal":"center","children":["$","div",null,{"className":"display-flex position-relative neutral-background-strong flex-row min-width-0 fill-width ","style":{"maxWidth":"var(--static-space-40)","minHeight":"var(--static-space-1)","height":"var(--static-space-1)"}}]}]
23:["$","$L8",null,{"marginTop":"24","marginBottom":"12","as":"h3","id":"themecontext.tsx","children":"ThemeContext.tsx"}]
24:["$","$L36",null,{"marginTop":"8","marginBottom":"16","codes":[{"code":"'use client'\nimport { createContext, useContext, useState, ReactNode } from 'react'\n\ntype Theme = 'light' | 'dark'\ntype ThemeContextType = {\n  theme: Theme\n  setTheme: (t: Theme) => void\n  toggleTheme: () => void\n}\n\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined)\n\nexport function ThemeProvider({ children }: { children: ReactNode }): JSX.Element {\n  const [theme, setTheme] = useState<Theme>('light')\n\n  function toggleTheme() {\n    setTheme(t => (t === 'light' ? 'dark' : 'light'))\n  }\n  return (\n    <ThemeContext.Provider value={{ theme, setTheme, toggleTheme }}>\n      {children}\n    </ThemeContext.Provider>\n  )\n}\n\nexport function useTheme() {\n  const ctx = useContext(ThemeContext)\n  if (!ctx) throw new Error('useTheme must be used inside ThemeProvider')\n  return ctx\n}\n","language":"typescript","label":"Typescript"}],"copyButton":true}]
25:["$","span",null,{"className":"font-body font-default font-m neutral-on-background-medium mt-8 mb-12","style":{"lineHeight":"175%"},"children":[["$","strong",null,{"children":"Explanation:"}],["$","br",null,{}],"\n","ThemeProvider tracks the current theme (light or dark) and lets me swap modes from anywhere in the app.",["$","br",null,{}],"\n","Want to add a dark mode toggle? Just call ",["$","span",null,{"className":"display-inline-flex position-relative px-4 py-1 neutral-background-alpha-weak neutral-border-alpha-medium border-solid border-1 radius-s align-center fit font-code InlineCode-module-scss-module__VeMgoW__inlineCode ","style":{},"children":"toggleTheme"}]," wherever I want the button to live.",["$","br",null,{}],"\n","Right now, this just changes a value—",["$","strong",null,{"children":"it’s not wired up to real dark mode styling yet"}]," since I still need to set up the CSS logic for dark colors."]}]
26:["$","$L2",null,{"fillWidth":true,"horizontal":"center","children":["$","div",null,{"className":"display-flex position-relative neutral-background-strong flex-row min-width-0 fill-width ","style":{"maxWidth":"var(--static-space-40)","minHeight":"var(--static-space-1)","height":"var(--static-space-1)"}}]}]
27:["$","$L8",null,{"marginTop":"24","marginBottom":"12","as":"h2","id":"how-does-the-data-flow-step-by-step","children":"How does the data flow step by step?"}]
28:["$","$L3a",null,{"children":["\n",["$","$L3b",null,{"marginTop":"4","marginBottom":"8","style":{"lineHeight":"175%"},"children":["$","strong",null,{"children":"I wrap my pages in the context providers (AuthProvider, ModalProvider, ThemeProvider) at the top level."}]}],"\n",["$","$L3b",null,{"marginTop":"4","marginBottom":"8","style":{"lineHeight":"175%"},"children":["$","strong",null,{"children":"Any component can useAuth, useModal, or useTheme to get or set user, modal, or theme info."}]}],"\n",["$","$L3b",null,{"marginTop":"4","marginBottom":"8","style":{"lineHeight":"175%"},"children":[["$","strong",null,{"children":"When user interacts:"}],"\n",["$","$L3a",null,{"children":["\n",["$","$L3b",null,{"marginTop":"4","marginBottom":"8","style":{"lineHeight":"175%"},"children":["Login or register: ",["$","span",null,{"className":"display-inline-flex position-relative px-4 py-1 neutral-background-alpha-weak neutral-border-alpha-medium border-solid border-1 radius-s align-center fit font-code InlineCode-module-scss-module__VeMgoW__inlineCode ","style":{},"children":"useAuth().login()"}]," or ",["$","span",null,{"className":"display-inline-flex position-relative px-4 py-1 neutral-background-alpha-weak neutral-border-alpha-medium border-solid border-1 radius-s align-center fit font-code InlineCode-module-scss-module__VeMgoW__inlineCode ","style":{},"children":"register()"}]," is called, state updates, and AuthContext lets all components “know” the current user."]}],"\n",["$","$L3b",null,{"marginTop":"4","marginBottom":"8","style":{"lineHeight":"175%"},"children":["Show feedback: Call ",["$","span",null,{"className":"display-inline-flex position-relative px-4 py-1 neutral-background-alpha-weak neutral-border-alpha-medium border-solid border-1 radius-s align-center fit font-code InlineCode-module-scss-module__VeMgoW__inlineCode ","style":{},"children":"useModal().showModal()"}]," or ",["$","span",null,{"className":"display-inline-flex position-relative px-4 py-1 neutral-background-alpha-weak neutral-border-alpha-medium border-solid border-1 radius-s align-center fit font-code InlineCode-module-scss-module__VeMgoW__inlineCode ","style":{},"children":"showConfirmModal()"}]," to open a popup instantly. AppModal listens, shows the modal, and handles user actions."]}],"\n",["$","$L3b",null,{"marginTop":"4","marginBottom":"8","style":{"lineHeight":"175%"},"children":["Toggle UI mode: Call ",["$","span",null,{"className":"display-inline-flex position-relative px-4 py-1 neutral-background-alpha-weak neutral-border-alpha-medium border-solid border-1 radius-s align-center fit font-code InlineCode-module-scss-module__VeMgoW__inlineCode ","style":{},"children":"useTheme().toggleTheme()"}]," to switch between light and dark mode everywhere."]}],"\n"]}],"\n"]}],"\n",["$","$L3b",null,{"marginTop":"4","marginBottom":"8","style":{"lineHeight":"175%"},"children":["$","strong",null,{"children":"As these contexts update, my UI updates reactively and I never need to prop-drill or duplicate logic."}]}],"\n"]}]
29:["$","$L2",null,{"fillWidth":true,"horizontal":"center","children":["$","div",null,{"className":"display-flex position-relative neutral-background-strong flex-row min-width-0 fill-width ","style":{"maxWidth":"var(--static-space-40)","minHeight":"var(--static-space-1)","height":"var(--static-space-1)"}}]}]
2a:["$","$L8",null,{"marginTop":"24","marginBottom":"12","as":"h2","id":"what-s-next","children":"What's next?"}]
2b:["$","span",null,{"className":"font-body font-default font-m neutral-on-background-medium mt-8 mb-12","style":{"lineHeight":"175%"},"children":"My next step is to build more contexts for the tons of data I need to show and edit throughout MyFinance—like incomes, outcomes, investments, and user profile. And I’ll be tackling more edit modals to make user data interactive and editable everywhere."}]
2c:["$","span",null,{"className":"font-body font-default font-m neutral-on-background-medium mt-8 mb-12","style":{"lineHeight":"175%"},"children":"I’m genuinely excited to dive deep into SQL soon. This is going to level up the whole project. So I’ll keep learning and building, constantly improving my skills and sharing the journey."}]
2d:["$","span",null,{"className":"font-body font-default font-m neutral-on-background-medium mt-8 mb-12","style":{"lineHeight":"175%"},"children":["Thank you so much for reading and joining me in this process!",["$","br",null,{}],"\n","If you have advice, questions, or just want to say hi, leave a comment on my linkedin post, always appreciated."]}]
2e:["$","span",null,{"className":"font-body font-default font-m neutral-on-background-medium mt-8 mb-12","style":{"lineHeight":"175%"},"children":"Stay consistent, keep building, and have a wonderful day."}]
2f:["$","pre",null,{"children":["$","span",null,{"className":"display-inline-flex position-relative px-4 py-1 neutral-background-alpha-weak neutral-border-alpha-medium border-solid border-1 radius-s align-center fit font-code InlineCode-module-scss-module__VeMgoW__inlineCode ","style":{}}]}]
30:["$","$L3c",null,{"title":"Priceless learning and extremely satisfied code quality. It's all about consistency.","url":"https://kedycatsudo.github.io/newPortfolio//blog/FirstContexts"}]
3f:T1f71,
# I Was the Customer: The Full-Stack Journey of Building MyFinance

I can't tell you how much I enjoyed working on this project. It was a remarkable learning experience and a hands-on opportunity to dive into new technologies like Tailwind CSS, Next.js, and TypeScript.

I also had the chance to work with different branches and manage them just like in a real-world project. Honestly, I’m proud—not just because the MVP is finished, but also because:

- I was the designer (and you can probably tell, hahah! I mentioned in a previous article that I’m not a designer, but I actually like how it turned out).
- I was the system architect.
- I was the junior dev.
- I was the senior dev.
- I was the project manager.
- I was the QA tester.
- More importantly, I **WAS THE CUSTOMER**.

You might wonder why I wrote "I WAS THE CUSTOMER" in all caps. To explain that, we need to roll all the way back to where it started—how I decided to build this project. Stay with me, just read and enjoy.

---

## How Did Everything Start?

It was a couple of months ago. I had just finished my new portfolio website and was considering my next move:

- Do another personal portfolio project, or  
- Start job hunting

I thought long and hard about those two options—listing pros, cons, and possible consequences. And I decided to create another project **before** I started job hunting.

### Why?

I really wanted to make this career transition as soon as possible, but I realized I actually wasn’t ready. The roles I’m aiming for are backend-heavy, but I didn’t have real hands-on experience with relational databases. I had worked with MongoDB, but that’s non-relational. And I know for sure that the companies I’m targeting—even for junior backend roles—are going to expect database experience.

That’s when I started thinking: what could I build with enough real data to create solid relational database tables?

It didn’t take me long to realize “money” is a *perfect* candidate. Think about it: almost everything in life involves money, so the data value is huge and the scope is broad.

This idea pushed me to look at what I actually needed to make my life easier. I started investigating what I was struggling to manage and keep track of. Because life is data, and if you don’t manage it, you lose it.

Everything came together: my big data is money, my demand is to track what my life needs—and the answer was right in front of me. A financial tracking application for myself.

Also, I’d been browsing tons of apps for personal finance management and never found one that fit my needs. On top of that—they weren’t even free?!  
Like, whaaat?!  
I’m an open source Linux software engineer. Don’t tell me I can’t get something I need if I don’t pay for it!

The name “MyFinance” immediately popped into my head. I loved it.

---

## Thinking Things Through—Before Even Creating the Repo

Think. Think. Think…

I knew my database would be PostgreSQL—no decision needed there.  
But what about the tech stack?

I wanted to add something new to my skill set: another framework, more useful tools, more data. I decided to go with Next.js and TypeScript. I’d just built my portfolio site with them, and I wanted to go even deeper.

Alright, I had the framework and database.  
What next?

Design!

I really didn’t want to use plain CSS, but I could learn a modern CSS system with new tech and still stick to the project’s purpose. So, I picked Tailwind CSS.

Here’s the final stack:
- **Design:** Tailwind CSS
- **Frontend framework:** Next.js
- **Database:** PostgreSQL (via Prisma)
- **Backend:** Nest.js—yet another framework I wanted to learn, and it works brilliantly with PostgreSQL and Prisma.

---

## Stack Ready. What Next?

On my last project, I started with the UI and moved to the backend later, only to find I had to completely rewire a ton of frontend logic to match the backend design. That was painful. This time, I’d heard that designing the backend system upfront saves a ton of time, so I decided to work out the data architecture *before* touching UI.

---

## System Design: Two Weeks with Nothing but a Blank Txt File

Just me and an empty text file.

I thought, and thought, some more. Writing down every idea, every question, every possible scenario. Categorized, analyzed, picked apart: Why? Where? How will I get that data?  
- What are my backbones?
- How does data flow?
- Decisions, buttons, forms, JSON files, file architecture, dead ends, loops, mappings, contexts, users… you name it.
I ended up with eight files, and reread them countless times—until there was nothing more to process. I needed some UI!

---

## Figuring Out the UI in Figma

This was my least favorite part. I’m definitely **not** a designer. Not because their job is less important—if anything, it’s the opposite! It’d be disrespectful for me to claim “I can design.” But, just for fun, here are a few snapshots from my Figma, and then we’ll compare them with the MVP.

![Figma design 1](/newPortfolio/images/gallery/figma1.png)
![Figma design 2](/newPortfolio/images/gallery/figma2.png)
![Figma design 3](/newPortfolio/images/gallery/figma3.png)

---

## Finally, VS Code!

I finally fired up VS Code, created the repo, and just started writing.

Page by page, then refactoring, then components, and another round of refactoring. I remembered all those backend rewrites from my last project, but this time, frontend changes came much easier—thanks to building with the data flow in mind.

I created contexts, helpers, layouts—slowly piecing everything together.

---

## Unexpected Technical Issue

Remember, I said I wore every hat, including junior dev? Here’s proof:

A week ago, I was trying to publish an article for my blog. Instead of running `sudo rm -r ./*`, I wrote `sudo rm -r /*`.  
*Yeah.*  
The feeling when you realize files are disappearing from **root** is hard to describe. I jumped for ctrl+c, but it was too late. The damage was done.

My laptop got weird, slowed down, then went dark. I couldn’t even see the console screen, so no way to recover anything.

Remember, I was the senior dev too? So, I did what a senior dev does—reinstalled Linux, everything gone. Silence.

But I’d pushed my repos and branches just before. Cold-blooded, methodical, no shaking hands. Mad, maybe! But head down, job to do.

Did I mention I love Kobe Bryant? His ambition and will to win—incredible. That’s what I try to channel: the Black Mamba mentality. I win. That’s my job.

Pulled my repos, checked every branch, blog, project. Everything was there. Back on track.

I love staying static. Like Ice Age—no emotion. Maybe I picked that up working as a chef, spending six hours serving customers, knowing there’s four more to go. You put your head down. You finish the job.

---

## And the Last Touches

.env file set up for `assetPrefix` and `basePath`—super useful for Next.js and GitHub Pages.  
And just like that: published! MyFinance MVP is live on GitHub Pages. If you’re interested, here’s the link: [link]

---

## What I have on my hand now. Lets compare with the deisgn that i made 

![MVP 1](/newPortfolio/images/gallery/myfinance1.png)
![MVP 2](/newPortfolio/images/gallery/myfinance2.png)
![MVP 3](/newPortfolio/images/gallery/myfinance3.png)
![MVP 4](/newPortfolio/images/gallery/myfinance4.png)
![MVP 5](/newPortfolio/images/gallery/myfinance5.png)
![MVP 6](/newPortfolio/images/gallery/myfinance6.png)
![MVP 7](/newPortfolio/images/gallery/myfinance7.png)


## What’s Next?

More learning, more databases. I’ll move to PostgreSQL and Prisma on the backend, and integrate them into this project. Lots of late nights and snow where I live—stay warm, stay safe, and I’ll see you in the next one.

---

If you made it this far—thanks for reading! Your feedback is always welcome.

---

#react #nextjs #typescript #tailwindcss #learningjourney #fullstack #personalproject #postgresql #nestjs #blackmambamentality
31:["$","$L3",null,{"fillWidth":true,"gap":"40","horizontal":"center","marginTop":"40","children":[["$","div",null,{"className":"display-flex position-relative neutral-background-strong flex-row min-width-0 fill-width ","style":{"maxWidth":"var(--static-space-40)","minHeight":"var(--static-space-1)","height":"var(--static-space-1)"}}],["$","h2",null,{"className":"font-heading font-strong font-xl neutral-on-background-strong mb-24","style":{"textWrap":"balance"},"children":"Recent posts"}],["$","$L3d",null,{"s":{"columns":1},"columns":"2","fillWidth":true,"marginBottom":"40","gap":"16","children":[["$","$L3e","mvpPublished",{"post":{"metadata":{"title":"I Was the Customer: The Full-Stack Journey of Building MyFinance","subtitle":"","publishedAt":"2026-01-25","summary":"","image":"/newPortfolio/images/gallery/myfinancelogo.png","images":[],"tag":"Learning Journey","team":[],"link":""},"slug":"mvpPublished","content":"$3f"},"thumbnail":true,"direction":"column"}],"$L40"]}]]}]
32:["$","$L41",null,{}]
33:["$","$L3",null,{"maxWidth":12,"paddingLeft":"40","fitHeight":true,"position":"sticky","top":"80","gap":"16","m":{"hide":true},"children":[["$","$L2",null,{"gap":"12","paddingLeft":"2","vertical":"center","onBackground":"neutral-medium","textVariant":"label-default-s","children":[["$","$L42",null,{"name":"document","size":"xs"}],"On this page"]}],["$","$L43",null,{"fitHeight":true}]]}]
34:["$","script","script-0",{"src":"/newPortfolio/_next/static/chunks/4c25d240ef55c323.js","async":true}]
35:["$","$L44",null,{"children":["$","$45",null,{"name":"Next.MetadataOutlet","children":"$@46"}]}]
47:T2f19,
# From Chaos to Clarity: How I Refactored My Edit Modal into Maintainable, Scalable React Components

Alright, let’s be honest—what you imagine will take one day can easily take three or four. That’s what happened this week. Planning, the first implementation, realizing my code was turning into spaghetti, then finally refactoring and modularizing everything—it turned into a marathon. Add a salary job and, well, life under capitalism, and four days are gone. But I have zero regrets, because what I learned was absolutely worth it.

In this article, I’ll walk you through every step as I untangle my Edit Modal from a monster file into a suite of focused, elegant components. It’s night and day. You’ll see every file, every abstraction, and exactly how (and why) I pulled it off.

*(All the code and logic you’ll see here started as one big file: `EditSourceModal.tsx`. Now, it’s organized freedom. Trust me, the difference is huge.)*

---

## What Did I End Up With?

**New files/components:**

- **EditSourceModal.tsx** (the parent, controls modal logic and orchestration)
- **AccordionItem.tsx** (shows each payment/investment in an accordion, with fields)
- **constants/fieldConfig.ts** (`PAYMENT_FIELDS` and `ITEM_FIELDS` describe all editable fields)
- **FieldInput.tsx** (super basic, dumb and generic input/selector component)

### The best part:  
Now when I open each in a separate VS Code pane I can understand the logic chain, top to bottom, at a glance. Maintainability is real!

---

## EditSourceModal.tsx – The Orchestrator

First, the prop types for clarity:

```tsx
type EditSourceModalProps = {
  open: boolean;
  source: FinanceSource | InvestmentSource;
  onClose: () => void;
  onSubmit: (updated: FinanceSource | InvestmentSource) => void;
};
```

### Internal State

```tsx
const [localSource, setLocalSource] = useState<FinanceSource | InvestmentSource>(source);
const [openItemAccordions, setOpenItemAccordions] = useState<{ [id: string]: boolean }>({});
const [errors, setErrors] = useState<{ [field: string]: string }>({});
```
- `localSource`: Holds what I’m currently editing.
- `openItemAccordions`: Which accordion(s) are open.
- `errors`: Error messages keyed by field.

### useEffect for Reset

```tsx
useEffect(() => {
  setLocalSource(source);
  setOpenItemAccordions({});
  setErrors({});
}, [source, open]);
```
Cleans everything up when data changes or the modal opens/closes.

### useEffect for Scroll Lock

```tsx
useEffect(() => {
  if (open) document.body.style.overflow = 'hidden';
  else document.body.style.overflow = '';
  return () => {
    document.body.style.overflow = '';
  };
}, [open]);
if (!open) return null;
```
Major UX win: disables scroll behind the modal.

---

### Input/Edit Handlers

```tsx
const handleItemInput = (itemId: string, field: any, value: any) => {
  const arrKey = isFinanceSource(localSource) ? 'payments' : 'items';
  setLocalSource(prev => ({
    ...prev,
    [arrKey]: (prev as any)[arrKey].map((itm: any) =>
      itm.id === itemId ? { ...itm, [field]: value } : itm,
    ),
  }) as any);
};
```

- Decides if we’re editing "payments" or "items."
- Finds the one we're editing (via `id`), and updates just that field.

```tsx
const handleSourceInput = (field: string, value: any) => {
  setLocalSource(prev => ({ ...prev, [field]: value }) as any);
};
```

- Updates a top-level field without touching others.

#### Validation logic

```tsx
function validate() {
  const err: Record<string, string> = {};
  if (!localSource.sourceName?.trim()) err.sourceName = 'Source name required';
  const items = isFinanceSource(localSource)
    ? localSource.payments
    : isInvestmentSource(localSource)
      ? localSource.items
      : [];
  for (const item of items) {
    if ('name' in item && !item.name?.trim()) err[`item.${item.id}.name`] = 'Name required';
    if ('assetName' in item && !item.assetName?.trim())
      err[`item.${item.id}.assetName`] = 'Asset name required';
  }
  setErrors(err);
  return Object.keys(err).length === 0;
}
```
- Checks that required fields are present (MVP-level, but ready to extend!).

#### Submit Handler

```tsx
const handleSubmit = () => {
  if (validate()) {
    onSubmit?.(localSource);
    onClose();
  }
};
```

---

### The Source Fields

To avoid hardcoding, I set up an array describing the fields for the modal "header":

```tsx
const sourceFields = [
  { label: 'Source Name', field: 'sourceName', value: localSource.sourceName, err: errors.sourceName },
  ...(localSource.description !== undefined
    ? [{ label: 'Description', field: 'description', value: localSource.description }]
    : []),
  ...(localSource.date !== undefined
    ? [{ label: 'Date', field: 'date', value: localSource.date, type: 'date' }]
    : []),
];
```

Which gets rendered as:

```tsx
<h2 className="text-2xl font-bold mb-2 text-[#29388A] text-center">
  Edit "{localSource.sourceName}"
</h2>
{sourceFields.map(f => (
  <FieldInput
    key={f.field}
    label={f.label}
    type={f.type}
    value={f.value}
    onChange={v => handleSourceInput(f.field ?? '', v)}
    err={f.err}
  />
))}
```

---

## constants/fieldConfig.ts – All Fields Centralized

I keep payment and investment item fields here for clarity and maintainability.

```tsx
export const PAYMENT_FIELDS = [
  { field: "name", label: "Name" },
  { field: "type", label: "Type" },
  { field: "amount", label: "Amount", type: "number" },
  { field: "date", label: "Date", type: "date" },
  { field: "loop", label: "Loop", type: "checkbox" },
  { field: "status", label: "Payment Status", enumOptions: ["coming", "paid"] }
];

export const ITEM_FIELDS = [
  { field: "assetName", label: "Asset Name" },
  { field: "term", label: "Term", enumOptions: ["short", "middle", "long"] },
  { field: "investedAmount", label: "Invested Amount", type: "number" },
  { field: "entryDate", label: "Entry Date", type: "date" },
  { field: "exitDate", label: "Exit Date", type: "date" },
  { field: "result", label: "Result", enumOptions: ["none", "profit", "loss"] },
  { field: "resultAmount", label: "Result Amount", type: "number" },
  { field: "status", label: "Status", enumOptions: ["open", "closed"] }
];
```
Any change here flows everywhere.

---

## FieldInput.tsx – A Simple, Dumb Field Component

```tsx
type FieldInputProps = {
  label: string;
  type?: string;
  value: any;
  onChange: (v: any) => void;
  enumOptions?: string[];
  err?: string;
};

export default function FieldInput({label, type, value, onChange, enumOptions, err}: FieldInputProps) {
  if (enumOptions) return (
    <label>
      <span className="block">{label}</span>
      <select
        value={value}
        onChange={e=>onChange(e.target.value)}
        className="rounded border px-2 py-1 mt-1 w-full text-black"
      >
        {enumOptions.map(opt => <option key={opt} value={opt}>{opt}</option>)}
      </select>
      {err && <span className="text-red-500 text-xs">{err}</span>}
    </label>
  );
  if (type === 'checkbox') return (
    <label className="flex items-center gap-1">
      <span className="block">{label}</span>
      <input type="checkbox" checked={!!value} onChange={e=>onChange(e.target.checked)}/>
    </label>
  );
  return (
    <label className="block">
      <span className="block">{label}</span>
      <input
        type={type||'text'}
        value={type==='date' && value ? String(value).slice(0,10) : (value ?? '')}
        onChange={e => onChange(
          type==='number' ? Number(e.target.value)
          : type==='checkbox' ? e.target.checked
          : e.target.value
        )}
        className="rounded border px-2 py-1 mt-1 w-full text-black"
      />
      {err && <span className="text-red-500 text-xs">{err}</span>}
    </label>
  );
}
```
- Handles selects, checkboxes, text, numbers, dates—just unite data and logic.
- Shows an error if needed.

---

## AccordionItem.tsx – All The Heavy Lifting, None of the Spaghetti

```tsx
type AccordionItemProps = {
  item: Record<string, any>;
  fieldConfig: {
    field: string;
    label: string;
    type?: string;
    enumOptions?: string[];
  }[];
  itemTypeKey: string;
  isOpen: boolean;
  toggleOpen: () => void;
  handleItemInput: (itemId: string, field: string, value: any) => void;
  errors?: Record<string, string>;
};

export default function AccordionItem({
  item,
  fieldConfig,
  itemTypeKey,
  isOpen,
  toggleOpen,
  handleItemInput,
  errors,
}: AccordionItemProps) {
  return (
    <div className={`border-4 border-[#29388A] rounded px-2 py-2 transition-all cursor-pointer ${isOpen ? 'bg-[#3A4483]/75 text-white' : 'text-[#29388A]'}`}>
      <div onClick={toggleOpen} className="flex flex-row justify-between items-center">
        <span> {'name' in item ? item.name : item.assetName}</span>
        <span className="text-sm text-gray-500">{isOpen ? '▼' : '▶'}</span>
      </div>
      {isOpen && (
        <div className="mt-2 flex flex-col gap-2">
          {fieldConfig.map((f) =>
            f.field === 'id' ? null : (
              <FieldInput
                key={f.field}
                label={f.label}
                type={f.type}
                enumOptions={f.enumOptions}
                value={item[f.field]}
                onChange={v => handleItemInput(item.id, f.field, v)}
                err={errors?.[`${itemTypeKey}.${item.id}.${f.field}`]}
              />
            )
          )}
        </div>
      )}
    </div>
  );
}
```
- No matter what shape the data becomes, this will render/expand/collapse and edit each field correctly.
- One clear file—not hundreds of repetitive lines for every possible field.

---

## Main Modal Use: Bringing It All Together

```tsx
{isFinanceSource(localSource) &&
  localSource.payments &&
  localSource.payments.map(payment => (
    <AccordionItem
      key={payment.id}
      item={payment}
      fieldConfig={PAYMENT_FIELDS}
      itemTypeKey="payment"
      isOpen={!!openItemAccordions[payment.id]}
      toggleOpen={() => setOpenItemAccordions(prev => ({ ...prev, [payment.id]: !prev[payment.id] }))}
      handleItemInput={handleItemInput}
      errors={errors}
    />
  ))
}
{isInvestmentSource(localSource) &&
  localSource.items &&
  localSource.items.map(item => (
    <AccordionItem
      key={item.id}
      item={item}
      fieldConfig={ITEM_FIELDS}
      itemTypeKey="item"
      isOpen={!!openItemAccordions[item.id]}
      toggleOpen={() => setOpenItemAccordions(prev => ({ ...prev, [item.id]: !prev[item.id] }))}
      handleItemInput={handleItemInput}
      errors={errors}
    />
  ))
}
```

All arrays map cleanly, and handlers/configs are passed in for complete flexibility. No repeated code, just reusable legos.

---

## Clean Modal Controls

```tsx
<div className="flex justify-end gap-2 mt-4">
  <button
    onClick={onClose}
    className="px-4 py-2 rounded bg-gray-200 text-gray-800 hover:bg-gray-300 font-semibold"
  >
    Cancel
  </button>
  <button
    onClick={handleSubmit}
    className="px-4 py-2 rounded bg-[#29388A] text-white hover:bg-blue-800 font-semibold"
  >
    Submit
  </button>
</div>
```
They do only what they need to, with zero drama.

---

## Final Reflections

Before the cleanup, this was a hot mess: one file, hundreds of lines, nearly impossible to trace. Now, thanks to focused components and field configs, I can extend and maintain everything with confidence. I can add or change fields, validation, or UI behaviors without ever touching 200 lines at once—maybe just 10, in the right place.

**Maintainability is gold.**  
This process cemented how much TypeScript + React + good planning = massive time and sanity savings. Don’t be afraid to modularize—even if it feels like “extra work.” It always pays off.

---

If you enjoyed this, found it useful, or have feedback, please share a comment! I’ll keep learning, building, and sharing—onward and upward!

---

#react #nextjs #typescript #refactor #frontend #webdevelopment #modal #forms #learningjourney #components #scalable #maintainable #ui #personalproject
40:["$","$L3e","fromChaosToClarity",{"post":{"metadata":{"title":"From Chaos to Clarity: How I Refactored My Edit Modal into Maintainable, Scalable React Components","subtitle":"","publishedAt":"2026-01-21","summary":"","image":"/newPortfolio/images/gallery/myfinancelogo.png","images":[],"tag":"Learning Journey","team":[],"link":""},"slug":"fromChaosToClarity","content":"$47"},"thumbnail":true,"direction":"column"}]
46:null
