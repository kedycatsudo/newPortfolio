1:"$Sreact.fragment"
3:I[73323,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","/newPortfolio/_next/static/chunks/6e7703b840071812.js","/newPortfolio/_next/static/chunks/c3ecf3fb8ef5f43d.js"],"Column"]
4:I[79520,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","/newPortfolio/_next/static/chunks/6e7703b840071812.js","/newPortfolio/_next/static/chunks/c3ecf3fb8ef5f43d.js"],""]
5:I[21971,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","/newPortfolio/_next/static/chunks/6e7703b840071812.js","/newPortfolio/_next/static/chunks/c3ecf3fb8ef5f43d.js"],"RevealFx"]
6:I[91722,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","/newPortfolio/_next/static/chunks/6e7703b840071812.js","/newPortfolio/_next/static/chunks/c3ecf3fb8ef5f43d.js"],"Button"]
7:I[78454,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","/newPortfolio/_next/static/chunks/6e7703b840071812.js","/newPortfolio/_next/static/chunks/c3ecf3fb8ef5f43d.js"],"Row"]
8:I[45250,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","/newPortfolio/_next/static/chunks/6e7703b840071812.js","/newPortfolio/_next/static/chunks/c3ecf3fb8ef5f43d.js"],"Avatar"]
9:I[74855,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","/newPortfolio/_next/static/chunks/6e7703b840071812.js","/newPortfolio/_next/static/chunks/c3ecf3fb8ef5f43d.js"],"ProjectCard"]
10:I[68027,[],"default"]
:HL["/newPortfolio/_next/static/chunks/93ac2d54f71ec8d4.css","style"]
:HL["/newPortfolio/_next/static/chunks/d20e0f0702cef329.css","style"]
:HL["/newPortfolio/_next/static/chunks/cecc8f2bb117acec.css","style"]
:HL["/newPortfolio/_next/static/chunks/2a5b081f82bb5f58.css","style"]
:HL["/newPortfolio/_next/static/chunks/4c177a1c2b51a4c4.css","style"]
:HL["/newPortfolio/_next/static/media/797e433ab948586e-s.p.dbea232f.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/newPortfolio/_next/static/media/caa3a2e1cccd8315-s.p.853070df.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
a:Te97,
## Overview

WhatToWear is a full-stack application that helps users decide what to wear each day by combining live weather data and a personal wardrobe inventory. The backend (Express) aggregates weather feeds, manages user wardrobes, and returns outfit suggestions. The frontend (React/Vite) provides an intuitive UI for managing clothing items, viewing daily suggestions, and saving favorites.

## Key Features

- **Weather-Aware Recommendations**: Fetches local weather (temperature, precipitation, wind) and recommends outfits suitable for current conditions and forecasts.
- **Wardrobe Inventory**: Users upload or create clothing items with attributes (type, layers, warmth, colors, images). Items are stored in the user profile and can be tagged.
- **Outfit Builder & History**: Saved outfit combinations and history let users reuse looks and refine recommendations over time.
- **Lightweight API Layer**: Server aggregates third-party weather APIs, normalizes responses, and applies caching to limit external calls.
- **Dockerized & CI/CD Ready**: Containerized backend and frontend with GitHub Actions for automated builds and deployment.

## Technologies Used

- Backend: Node.js, Express
- Frontend: React (Vite)
- External APIs: OpenWeatherMap (or alternate provider)
- Data Storage: MongoDB (Mongoose) for users and wardrobe
- Caching: Redis or in-memory TTL cache for weather and recommendation results
- Auth: JWT for session handling and protected user resources
- Deployment: Google Cloud, optional Nginx reverse proxy + Certbot for SSL
- Utilities: multer / cloud storage for item images, axios for HTTP, cron jobs for scheduled syncs

## Challenges and Learnings

- **Data Modeling for Clothing**: Designing a flexible schema for clothing attributes (layering, warmth, formality, color) was key to meaningful recommendations.
- **Normalization of External Data**: Weather providers use different structures; an adapter layer simplifies downstream logic.
- **Caching & Rate Limits**: Implemented short TTLs and request coalescing to avoid exceeding external API rate limits while keeping suggestions fresh.
- **Image Handling**: Optimizing upload, storage, and delivery of item photos improved UX and reduced bandwidth.



## Outcome

- A coherent MVP that suggests context-appropriate outfits, enables wardrobe management, and integrates with external data sources.
- Backend endpoints for wardrobe CRUD, suggestion generation, and user preferences are available and ready for frontend consumption.
- The system is containerized and prepared for deployment; frontend can run as a static site while the API runs in a Docker container on a VM.
- **Domain**: https://wtwrkedycat.baselinux.net
- **Frontend repo**: https://github.com/kedycatsudo/se_project_react

## Deployment & Next Steps

1. Point a domain or free DNS to your VM and create an A record for the API host.
2. Use Nginx as a reverse proxy and obtain SSL certificates via Certbot to enable HTTPS.
3. Harden the VM (SSH keys, disable root login, enable UFW for 22/80/443).
4. Store API keys and secrets in CI/CD secrets or a secrets manager; use environment variables at runtime.
5. Add Redis for stable caching if scaling, and enable structured logging and monitoring.
6. Improve personalization with lightweight ML models or heuristics, add image auto-tagging (color, type), and implement offline-first frontend caching for reliability.
7. Offer social sharing and exportable outfit plans as future features.

---

This MDX entry documents the WhatToWear project, highlighting architecture, core features, implementation notes, and actionable next steps to take the MVP toward production readiness.0:{"P":null,"b":"jqWEP_6D6-p6AOaHIIgYB","c":["",""],"q":"","i":false,"f":[[["",{"children":["__PAGE__",{}]},"$undefined","$undefined",true],[["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/newPortfolio/_next/static/chunks/93ac2d54f71ec8d4.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/newPortfolio/_next/static/chunks/d20e0f0702cef329.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","2",{"rel":"stylesheet","href":"/newPortfolio/_next/static/chunks/cecc8f2bb117acec.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","3",{"rel":"stylesheet","href":"/newPortfolio/_next/static/chunks/2a5b081f82bb5f58.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","4",{"rel":"stylesheet","href":"/newPortfolio/_next/static/chunks/4c177a1c2b51a4c4.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","script","script-0",{"src":"/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","async":true,"nonce":"$undefined"}],["$","script","script-1",{"src":"/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","async":true,"nonce":"$undefined"}],["$","script","script-2",{"src":"/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","async":true,"nonce":"$undefined"}],["$","script","script-3",{"src":"/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","async":true,"nonce":"$undefined"}],["$","script","script-4",{"src":"/newPortfolio/_next/static/chunks/6e7703b840071812.js","async":true,"nonce":"$undefined"}]],"$L2"]}],{"children":[["$","$1","c",{"children":[["$","$L3",null,{"maxWidth":"m","gap":"xl","paddingY":"12","horizontal":"center","children":[["$","$L4",null,{"id":"schema-webPage-/","type":"application/ld+json","dangerouslySetInnerHTML":{"__html":"{\"@context\":\"https://schema.org\",\"@type\":\"WebPage\",\"url\":\"https://kedycatsudo.github.io/newPortfolio/\",\"sameAs\":[],\"headline\":\"Doruk Kocausta's Portfolio\",\"description\":\"Portfolio website showcasing my work as a Full-Stack Web Developer\",\"image\":\"https://kedycatsudo.github.io/newPortfolio/og?title=Doruk%20Kocausta's%20Portfolio\",\"author\":{\"@type\":\"Person\",\"name\":\"Doruk Kocausta\",\"url\":\"https://kedycatsudo.github.io/newPortfolio//about\",\"image\":{\"@type\":\"ImageObject\",\"url\":\"https://kedycatsudo.github.io/newPortfolio//newPortfolio/images/dorukAvatar.jpg\"}}}"}}],["$","$L3",null,{"fillWidth":true,"horizontal":"center","gap":"m","children":["$","$L3",null,{"maxWidth":"s","horizontal":"center","align":"center","children":[["$","$L5",null,{"translateY":"4","fillWidth":true,"horizontal":"center","paddingBottom":"16","children":["$","h1",null,{"className":"font-display font-strong font-l neutral-on-background-strong","style":{"textAlign":"$undefined","textWrap":"balance"},"children":"Building the Future of the Web "}]}],["$","$L5",null,{"translateY":"8","delay":0.2,"fillWidth":true,"horizontal":"center","paddingBottom":"32","children":["$","span",null,{"className":"font-heading font-default font-xl neutral-on-background-weak","style":{"textAlign":"$undefined","textWrap":"balance"},"children":"I’m Doruk, Full-Stack Web Developer focused on creating efficient, scalable and secure web apps. Welcome to my portfolio!"}]}],["$","$L5",null,{"paddingTop":"12","delay":0.4,"horizontal":"center","paddingLeft":"12","children":["$","$L6",null,{"id":"about","data-border":"rounded","href":"/about","variant":"secondary","size":"m","weight":"default","arrowIcon":true,"children":["$","$L7",null,{"gap":"8","vertical":"center","paddingRight":"4","children":[["$","$L8",null,{"marginRight":"8","style":{"marginLeft":"-0.75rem"},"src":"/newPortfolio/images/dorukAvatar.jpg","size":"l"}],"About – Doruk Kocausta"]}]}]}]]}]}],["$","$L5",null,{"translateY":"16","delay":0.6,"children":["$","$L3",null,{"fillWidth":true,"gap":"xl","marginBottom":"40","paddingX":"l","children":[["$","$L9","automate-design-handovers-with-a-figma-to-code-pipeline",{"priority":true,"href":"/work/automate-design-handovers-with-a-figma-to-code-pipeline","images":["/newPortfolio/images/projects/project-02/wt_cover-02.png","/newPortfolio/images/projects/project-02/wt_cover-01.png"],"title":"WhatToWear — Personal Outfit Recommendation App","description":"A context-aware outfit recommender that suggests daily looks from your wardrobe based on local weather.","content":"$a","avatars":[{"src":"/newPortfolio/images/dorukAvatar.jpg"}],"link":"https://github.com/kedycatsudo/se_project_express"}]]}]}],"$Lb","$Lc"]}],["$Ld"],"$Le"]}],{},null,false,false]},null,false,false],"$Lf",false]],"m":"$undefined","G":["$10",[]],"S":true}
11:I[96470,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","/newPortfolio/_next/static/chunks/6e7703b840071812.js","/newPortfolio/_next/static/chunks/c3ecf3fb8ef5f43d.js"],"ClientGrid"]
12:I[14360,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","/newPortfolio/_next/static/chunks/6e7703b840071812.js","/newPortfolio/_next/static/chunks/c3ecf3fb8ef5f43d.js"],"default"]
16:I[3847,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","/newPortfolio/_next/static/chunks/6e7703b840071812.js","/newPortfolio/_next/static/chunks/c3ecf3fb8ef5f43d.js"],"Mailchimp"]
17:I[97367,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/1a476e30dee46234.js"],"OutletBoundary"]
18:"$Sreact.suspense"
1a:I[97367,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/1a476e30dee46234.js"],"ViewportBoundary"]
1c:I[97367,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/1a476e30dee46234.js"],"MetadataBoundary"]
1f:I[30824,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","/newPortfolio/_next/static/chunks/6e7703b840071812.js","/newPortfolio/_next/static/chunks/c3ecf3fb8ef5f43d.js"],"Providers"]
20:I[94412,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","/newPortfolio/_next/static/chunks/6e7703b840071812.js","/newPortfolio/_next/static/chunks/c3ecf3fb8ef5f43d.js"],"Background"]
21:I[21247,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","/newPortfolio/_next/static/chunks/6e7703b840071812.js","/newPortfolio/_next/static/chunks/c3ecf3fb8ef5f43d.js"],"ClientFlex"]
22:I[2971,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","/newPortfolio/_next/static/chunks/6e7703b840071812.js","/newPortfolio/_next/static/chunks/c3ecf3fb8ef5f43d.js"],"Header"]
23:I[39756,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/1a476e30dee46234.js"],"default"]
13:T1f71,
# I Was the Customer: The Full-Stack Journey of Building MyFinance

I can't tell you how much I enjoyed working on this project. It was a remarkable learning experience and a hands-on opportunity to dive into new technologies like Tailwind CSS, Next.js, and TypeScript.

I also had the chance to work with different branches and manage them just like in a real-world project. Honestly, I’m proud—not just because the MVP is finished, but also because:

- I was the designer (and you can probably tell, hahah! I mentioned in a previous article that I’m not a designer, but I actually like how it turned out).
- I was the system architect.
- I was the junior dev.
- I was the senior dev.
- I was the project manager.
- I was the QA tester.
- More importantly, I **WAS THE CUSTOMER**.

You might wonder why I wrote "I WAS THE CUSTOMER" in all caps. To explain that, we need to roll all the way back to where it started—how I decided to build this project. Stay with me, just read and enjoy.

---

## How Did Everything Start?

It was a couple of months ago. I had just finished my new portfolio website and was considering my next move:

- Do another personal portfolio project, or  
- Start job hunting

I thought long and hard about those two options—listing pros, cons, and possible consequences. And I decided to create another project **before** I started job hunting.

### Why?

I really wanted to make this career transition as soon as possible, but I realized I actually wasn’t ready. The roles I’m aiming for are backend-heavy, but I didn’t have real hands-on experience with relational databases. I had worked with MongoDB, but that’s non-relational. And I know for sure that the companies I’m targeting—even for junior backend roles—are going to expect database experience.

That’s when I started thinking: what could I build with enough real data to create solid relational database tables?

It didn’t take me long to realize “money” is a *perfect* candidate. Think about it: almost everything in life involves money, so the data value is huge and the scope is broad.

This idea pushed me to look at what I actually needed to make my life easier. I started investigating what I was struggling to manage and keep track of. Because life is data, and if you don’t manage it, you lose it.

Everything came together: my big data is money, my demand is to track what my life needs—and the answer was right in front of me. A financial tracking application for myself.

Also, I’d been browsing tons of apps for personal finance management and never found one that fit my needs. On top of that—they weren’t even free?!  
Like, whaaat?!  
I’m an open source Linux software engineer. Don’t tell me I can’t get something I need if I don’t pay for it!

The name “MyFinance” immediately popped into my head. I loved it.

---

## Thinking Things Through—Before Even Creating the Repo

Think. Think. Think…

I knew my database would be PostgreSQL—no decision needed there.  
But what about the tech stack?

I wanted to add something new to my skill set: another framework, more useful tools, more data. I decided to go with Next.js and TypeScript. I’d just built my portfolio site with them, and I wanted to go even deeper.

Alright, I had the framework and database.  
What next?

Design!

I really didn’t want to use plain CSS, but I could learn a modern CSS system with new tech and still stick to the project’s purpose. So, I picked Tailwind CSS.

Here’s the final stack:
- **Design:** Tailwind CSS
- **Frontend framework:** Next.js
- **Database:** PostgreSQL (via Prisma)
- **Backend:** Nest.js—yet another framework I wanted to learn, and it works brilliantly with PostgreSQL and Prisma.

---

## Stack Ready. What Next?

On my last project, I started with the UI and moved to the backend later, only to find I had to completely rewire a ton of frontend logic to match the backend design. That was painful. This time, I’d heard that designing the backend system upfront saves a ton of time, so I decided to work out the data architecture *before* touching UI.

---

## System Design: Two Weeks with Nothing but a Blank Txt File

Just me and an empty text file.

I thought, and thought, some more. Writing down every idea, every question, every possible scenario. Categorized, analyzed, picked apart: Why? Where? How will I get that data?  
- What are my backbones?
- How does data flow?
- Decisions, buttons, forms, JSON files, file architecture, dead ends, loops, mappings, contexts, users… you name it.
I ended up with eight files, and reread them countless times—until there was nothing more to process. I needed some UI!

---

## Figuring Out the UI in Figma

This was my least favorite part. I’m definitely **not** a designer. Not because their job is less important—if anything, it’s the opposite! It’d be disrespectful for me to claim “I can design.” But, just for fun, here are a few snapshots from my Figma, and then we’ll compare them with the MVP.

![Figma design 1](/newPortfolio/images/gallery/figma1.png)
![Figma design 2](/newPortfolio/images/gallery/figma2.png)
![Figma design 3](/newPortfolio/images/gallery/figma3.png)

---

## Finally, VS Code!

I finally fired up VS Code, created the repo, and just started writing.

Page by page, then refactoring, then components, and another round of refactoring. I remembered all those backend rewrites from my last project, but this time, frontend changes came much easier—thanks to building with the data flow in mind.

I created contexts, helpers, layouts—slowly piecing everything together.

---

## Unexpected Technical Issue

Remember, I said I wore every hat, including junior dev? Here’s proof:

A week ago, I was trying to publish an article for my blog. Instead of running `sudo rm -r ./*`, I wrote `sudo rm -r /*`.  
*Yeah.*  
The feeling when you realize files are disappearing from **root** is hard to describe. I jumped for ctrl+c, but it was too late. The damage was done.

My laptop got weird, slowed down, then went dark. I couldn’t even see the console screen, so no way to recover anything.

Remember, I was the senior dev too? So, I did what a senior dev does—reinstalled Linux, everything gone. Silence.

But I’d pushed my repos and branches just before. Cold-blooded, methodical, no shaking hands. Mad, maybe! But head down, job to do.

Did I mention I love Kobe Bryant? His ambition and will to win—incredible. That’s what I try to channel: the Black Mamba mentality. I win. That’s my job.

Pulled my repos, checked every branch, blog, project. Everything was there. Back on track.

I love staying static. Like Ice Age—no emotion. Maybe I picked that up working as a chef, spending six hours serving customers, knowing there’s four more to go. You put your head down. You finish the job.

---

## And the Last Touches

.env file set up for `assetPrefix` and `basePath`—super useful for Next.js and GitHub Pages.  
And just like that: published! MyFinance MVP is live on GitHub Pages. If you’re interested, here’s the link: [link]

---

## What I have on my hand now. Lets compare with the deisgn that i made 

![MVP 1](/newPortfolio/images/gallery/myfinance1.png)
![MVP 2](/newPortfolio/images/gallery/myfinance2.png)
![MVP 3](/newPortfolio/images/gallery/myfinance3.png)
![MVP 4](/newPortfolio/images/gallery/myfinance4.png)
![MVP 5](/newPortfolio/images/gallery/myfinance5.png)
![MVP 6](/newPortfolio/images/gallery/myfinance6.png)
![MVP 7](/newPortfolio/images/gallery/myfinance7.png)


## What’s Next?

More learning, more databases. I’ll move to PostgreSQL and Prisma on the backend, and integrate them into this project. Lots of late nights and snow where I live—stay warm, stay safe, and I’ll see you in the next one.

---

If you made it this far—thanks for reading! Your feedback is always welcome.

---

#react #nextjs #typescript #tailwindcss #learningjourney #fullstack #personalproject #postgresql #nestjs #blackmambamentality
b:["$","$L3",null,{"fillWidth":true,"gap":"24","marginBottom":"l","children":[["$","$L7",null,{"fillWidth":true,"paddingRight":"64","children":["$","div",null,{"ref":"$undefined","className":"display-flex position-relative neutral-background-strong flex-row min-width-0 fill-width ","style":{"maxWidth":"48rem","minWidth":"$undefined","minHeight":"var(--static-space-1)","maxHeight":"$undefined","width":"$undefined","height":"var(--static-space-1)","aspectRatio":"$undefined","textAlign":"$undefined","cursor":"$undefined"},"children":"$undefined"}]}],["$","$L7",null,{"fillWidth":true,"gap":"24","marginTop":"40","s":{"direction":"column"},"children":[["$","$L7",null,{"flex":1,"paddingLeft":"l","paddingTop":"24","children":["$","h2",null,{"className":"font-display font-strong font-xs neutral-on-background-strong","style":{"textAlign":"$undefined","textWrap":"balance"},"children":"Latest from the blog"}]}],["$","$L7",null,{"flex":3,"paddingX":"20","children":["$","$L11",null,{"ref":"$undefined","cursor":"$undefined","xl":"$undefined","l":"$undefined","m":"$undefined","s":{"columns":1},"xs":"$undefined","style":"$undefined","hide":"$undefined","columns":"2","fillWidth":true,"marginBottom":"40","gap":"16","children":[["$","$L12","mvpPublished",{"post":{"metadata":{"title":"I Was the Customer: The Full-Stack Journey of Building MyFinance","subtitle":"","publishedAt":"2026-01-25","summary":"","image":"/newPortfolio/images/gallery/myfinancelogo.png","images":[],"tag":"Learning Journey","team":[],"link":""},"slug":"mvpPublished","content":"$13"},"thumbnail":false,"direction":"$undefined"}],"$L14"]}]}]]}],"$L15"]}]
c:["$","$L16",null,{}]
d:["$","script","script-0",{"src":"/newPortfolio/_next/static/chunks/c3ecf3fb8ef5f43d.js","async":true,"nonce":"$undefined"}]
e:["$","$L17",null,{"children":["$","$18",null,{"name":"Next.MetadataOutlet","children":"$@19"}]}]
f:["$","$1","h",{"children":[null,["$","$L1a",null,{"children":"$@1b"}],["$","div",null,{"hidden":true,"children":["$","$L1c",null,{"children":["$","$18",null,{"name":"Next.Metadata","children":"$@1d"}]}]}],["$","meta",null,{"name":"next-size-adjust","content":""}]]}]
1e:T76b,
              (function() {
                try {
                  const root = document.documentElement;
                  const defaultTheme = 'system';
                  
                  // Set defaults from config
                  const config = {"brand":"cyan","accent":"red","neutral":"gray","solid":"contrast","solid-style":"flat","border":"playful","surface":"translucent","transition":"all","scaling":"100","viz-style":"gradient"};
                  
                  // Apply default values
                  Object.entries(config).forEach(([key, value]) => {
                    root.setAttribute('data-' + key, value);
                  });
                  
                  // Resolve theme
                  const resolveTheme = (themeValue) => {
                    if (!themeValue || themeValue === 'system') {
                      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
                    }
                    return themeValue;
                  };
                  
                  // Apply saved theme
                  const savedTheme = localStorage.getItem('data-theme');
                  const resolvedTheme = resolveTheme(savedTheme);
                  root.setAttribute('data-theme', resolvedTheme);
                  
                  // Apply any saved style overrides
                  const styleKeys = Object.keys(config);
                  styleKeys.forEach(key => {
                    const value = localStorage.getItem('data-' + key);
                    if (value) {
                      root.setAttribute('data-' + key, value);
                    }
                  });
                } catch (e) {
                  console.error('Failed to initialize theme:', e);
                  document.documentElement.setAttribute('data-theme', 'dark');
                }
              })();
            2:["$","html",null,{"ref":"$undefined","className":"display-flex position-relative min-width-0 fill-width geist_d82bf9db-module__Ifi_Dq__variable geist_250f8b91-module__B2UTAq__variable geist_4edd9b70-module__GC7HaW__variable geist_mono_90672d7c-module__qcY_rq__variable ","style":{"maxWidth":"$undefined","minWidth":"$undefined","minHeight":"$undefined","maxHeight":"$undefined","width":"$undefined","height":"$undefined","aspectRatio":"$undefined","textAlign":"$undefined","cursor":"$undefined"},"suppressHydrationWarning":true,"lang":"en","children":[["$","head",null,{"children":["$","script",null,{"id":"theme-init","dangerouslySetInnerHTML":{"__html":"$1e"}}]}],["$","$L1f",null,{"children":["$","$L3",null,{"as":"body","background":"page","fillWidth":true,"style":{"minHeight":"100vh"},"margin":"0","padding":"0","horizontal":"center","children":[["$","$L5",null,{"fill":true,"position":"absolute","children":["$","$L20",null,{"mask":{"x":50,"y":0,"radius":100,"cursor":false},"gradient":{"display":false,"opacity":100,"x":50,"y":60,"width":100,"height":50,"tilt":0,"colorStart":"accent-background-strong","colorEnd":"page-background"},"dots":{"display":true,"opacity":40,"size":"2","color":"brand-background-strong"},"grid":{"display":false,"opacity":100,"color":"neutral-alpha-medium","width":"0.25rem","height":"0.25rem"},"lines":{"display":false,"opacity":100,"size":"16","thickness":1,"angle":45,"color":"neutral-alpha-weak"}}]}],["$","$L21",null,{"ref":"$undefined","cursor":"$undefined","xl":"$undefined","l":"$undefined","m":"$undefined","s":{"hide":true},"xs":"$undefined","style":"$undefined","hide":"$undefined","fillWidth":true,"minHeight":"16"}],["$","$L22",null,{}],["$","div",null,{"ref":"$undefined","className":"display-flex position-relative p-l flex-1 justify-center min-width-0 fill-width ","style":{"maxWidth":"$undefined","minWidth":"$undefined","minHeight":"$undefined","maxHeight":"$undefined","width":"$undefined","height":"$undefined","aspectRatio":"$undefined","textAlign":"$undefined","cursor":"$undefined"},"children":["$","div",null,{"ref":"$undefined","className":"display-flex position-relative justify-center min-width-0 fill-width ","style":{"maxWidth":"$undefined","minWidth":"$undefined","minHeight":"var(--static-space-0)","maxHeight":"$undefined","width":"$undefined","height":"$undefined","aspectRatio":"$undefined","textAlign":"$undefined","cursor":"$undefined"},"children":["$","$L23",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":"$L24","templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$L25","forbidden":"$undefined","unauthorized":"$undefined"}]}]}],"$L26"]}]}]]}]
28:I[37457,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/1a476e30dee46234.js"],"default"]
29:I[98229,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/40e549f30e38bf92.js","/newPortfolio/_next/static/chunks/52ccd9bb74f30947.js","/newPortfolio/_next/static/chunks/4a9c76e2a1b09db0.js","/newPortfolio/_next/static/chunks/6e7703b840071812.js","/newPortfolio/_next/static/chunks/c3ecf3fb8ef5f43d.js"],"IconButton"]
27:T2f19,
# From Chaos to Clarity: How I Refactored My Edit Modal into Maintainable, Scalable React Components

Alright, let’s be honest—what you imagine will take one day can easily take three or four. That’s what happened this week. Planning, the first implementation, realizing my code was turning into spaghetti, then finally refactoring and modularizing everything—it turned into a marathon. Add a salary job and, well, life under capitalism, and four days are gone. But I have zero regrets, because what I learned was absolutely worth it.

In this article, I’ll walk you through every step as I untangle my Edit Modal from a monster file into a suite of focused, elegant components. It’s night and day. You’ll see every file, every abstraction, and exactly how (and why) I pulled it off.

*(All the code and logic you’ll see here started as one big file: `EditSourceModal.tsx`. Now, it’s organized freedom. Trust me, the difference is huge.)*

---

## What Did I End Up With?

**New files/components:**

- **EditSourceModal.tsx** (the parent, controls modal logic and orchestration)
- **AccordionItem.tsx** (shows each payment/investment in an accordion, with fields)
- **constants/fieldConfig.ts** (`PAYMENT_FIELDS` and `ITEM_FIELDS` describe all editable fields)
- **FieldInput.tsx** (super basic, dumb and generic input/selector component)

### The best part:  
Now when I open each in a separate VS Code pane I can understand the logic chain, top to bottom, at a glance. Maintainability is real!

---

## EditSourceModal.tsx – The Orchestrator

First, the prop types for clarity:

```tsx
type EditSourceModalProps = {
  open: boolean;
  source: FinanceSource | InvestmentSource;
  onClose: () => void;
  onSubmit: (updated: FinanceSource | InvestmentSource) => void;
};
```

### Internal State

```tsx
const [localSource, setLocalSource] = useState<FinanceSource | InvestmentSource>(source);
const [openItemAccordions, setOpenItemAccordions] = useState<{ [id: string]: boolean }>({});
const [errors, setErrors] = useState<{ [field: string]: string }>({});
```
- `localSource`: Holds what I’m currently editing.
- `openItemAccordions`: Which accordion(s) are open.
- `errors`: Error messages keyed by field.

### useEffect for Reset

```tsx
useEffect(() => {
  setLocalSource(source);
  setOpenItemAccordions({});
  setErrors({});
}, [source, open]);
```
Cleans everything up when data changes or the modal opens/closes.

### useEffect for Scroll Lock

```tsx
useEffect(() => {
  if (open) document.body.style.overflow = 'hidden';
  else document.body.style.overflow = '';
  return () => {
    document.body.style.overflow = '';
  };
}, [open]);
if (!open) return null;
```
Major UX win: disables scroll behind the modal.

---

### Input/Edit Handlers

```tsx
const handleItemInput = (itemId: string, field: any, value: any) => {
  const arrKey = isFinanceSource(localSource) ? 'payments' : 'items';
  setLocalSource(prev => ({
    ...prev,
    [arrKey]: (prev as any)[arrKey].map((itm: any) =>
      itm.id === itemId ? { ...itm, [field]: value } : itm,
    ),
  }) as any);
};
```

- Decides if we’re editing "payments" or "items."
- Finds the one we're editing (via `id`), and updates just that field.

```tsx
const handleSourceInput = (field: string, value: any) => {
  setLocalSource(prev => ({ ...prev, [field]: value }) as any);
};
```

- Updates a top-level field without touching others.

#### Validation logic

```tsx
function validate() {
  const err: Record<string, string> = {};
  if (!localSource.sourceName?.trim()) err.sourceName = 'Source name required';
  const items = isFinanceSource(localSource)
    ? localSource.payments
    : isInvestmentSource(localSource)
      ? localSource.items
      : [];
  for (const item of items) {
    if ('name' in item && !item.name?.trim()) err[`item.${item.id}.name`] = 'Name required';
    if ('assetName' in item && !item.assetName?.trim())
      err[`item.${item.id}.assetName`] = 'Asset name required';
  }
  setErrors(err);
  return Object.keys(err).length === 0;
}
```
- Checks that required fields are present (MVP-level, but ready to extend!).

#### Submit Handler

```tsx
const handleSubmit = () => {
  if (validate()) {
    onSubmit?.(localSource);
    onClose();
  }
};
```

---

### The Source Fields

To avoid hardcoding, I set up an array describing the fields for the modal "header":

```tsx
const sourceFields = [
  { label: 'Source Name', field: 'sourceName', value: localSource.sourceName, err: errors.sourceName },
  ...(localSource.description !== undefined
    ? [{ label: 'Description', field: 'description', value: localSource.description }]
    : []),
  ...(localSource.date !== undefined
    ? [{ label: 'Date', field: 'date', value: localSource.date, type: 'date' }]
    : []),
];
```

Which gets rendered as:

```tsx
<h2 className="text-2xl font-bold mb-2 text-[#29388A] text-center">
  Edit "{localSource.sourceName}"
</h2>
{sourceFields.map(f => (
  <FieldInput
    key={f.field}
    label={f.label}
    type={f.type}
    value={f.value}
    onChange={v => handleSourceInput(f.field ?? '', v)}
    err={f.err}
  />
))}
```

---

## constants/fieldConfig.ts – All Fields Centralized

I keep payment and investment item fields here for clarity and maintainability.

```tsx
export const PAYMENT_FIELDS = [
  { field: "name", label: "Name" },
  { field: "type", label: "Type" },
  { field: "amount", label: "Amount", type: "number" },
  { field: "date", label: "Date", type: "date" },
  { field: "loop", label: "Loop", type: "checkbox" },
  { field: "status", label: "Payment Status", enumOptions: ["coming", "paid"] }
];

export const ITEM_FIELDS = [
  { field: "assetName", label: "Asset Name" },
  { field: "term", label: "Term", enumOptions: ["short", "middle", "long"] },
  { field: "investedAmount", label: "Invested Amount", type: "number" },
  { field: "entryDate", label: "Entry Date", type: "date" },
  { field: "exitDate", label: "Exit Date", type: "date" },
  { field: "result", label: "Result", enumOptions: ["none", "profit", "loss"] },
  { field: "resultAmount", label: "Result Amount", type: "number" },
  { field: "status", label: "Status", enumOptions: ["open", "closed"] }
];
```
Any change here flows everywhere.

---

## FieldInput.tsx – A Simple, Dumb Field Component

```tsx
type FieldInputProps = {
  label: string;
  type?: string;
  value: any;
  onChange: (v: any) => void;
  enumOptions?: string[];
  err?: string;
};

export default function FieldInput({label, type, value, onChange, enumOptions, err}: FieldInputProps) {
  if (enumOptions) return (
    <label>
      <span className="block">{label}</span>
      <select
        value={value}
        onChange={e=>onChange(e.target.value)}
        className="rounded border px-2 py-1 mt-1 w-full text-black"
      >
        {enumOptions.map(opt => <option key={opt} value={opt}>{opt}</option>)}
      </select>
      {err && <span className="text-red-500 text-xs">{err}</span>}
    </label>
  );
  if (type === 'checkbox') return (
    <label className="flex items-center gap-1">
      <span className="block">{label}</span>
      <input type="checkbox" checked={!!value} onChange={e=>onChange(e.target.checked)}/>
    </label>
  );
  return (
    <label className="block">
      <span className="block">{label}</span>
      <input
        type={type||'text'}
        value={type==='date' && value ? String(value).slice(0,10) : (value ?? '')}
        onChange={e => onChange(
          type==='number' ? Number(e.target.value)
          : type==='checkbox' ? e.target.checked
          : e.target.value
        )}
        className="rounded border px-2 py-1 mt-1 w-full text-black"
      />
      {err && <span className="text-red-500 text-xs">{err}</span>}
    </label>
  );
}
```
- Handles selects, checkboxes, text, numbers, dates—just unite data and logic.
- Shows an error if needed.

---

## AccordionItem.tsx – All The Heavy Lifting, None of the Spaghetti

```tsx
type AccordionItemProps = {
  item: Record<string, any>;
  fieldConfig: {
    field: string;
    label: string;
    type?: string;
    enumOptions?: string[];
  }[];
  itemTypeKey: string;
  isOpen: boolean;
  toggleOpen: () => void;
  handleItemInput: (itemId: string, field: string, value: any) => void;
  errors?: Record<string, string>;
};

export default function AccordionItem({
  item,
  fieldConfig,
  itemTypeKey,
  isOpen,
  toggleOpen,
  handleItemInput,
  errors,
}: AccordionItemProps) {
  return (
    <div className={`border-4 border-[#29388A] rounded px-2 py-2 transition-all cursor-pointer ${isOpen ? 'bg-[#3A4483]/75 text-white' : 'text-[#29388A]'}`}>
      <div onClick={toggleOpen} className="flex flex-row justify-between items-center">
        <span> {'name' in item ? item.name : item.assetName}</span>
        <span className="text-sm text-gray-500">{isOpen ? '▼' : '▶'}</span>
      </div>
      {isOpen && (
        <div className="mt-2 flex flex-col gap-2">
          {fieldConfig.map((f) =>
            f.field === 'id' ? null : (
              <FieldInput
                key={f.field}
                label={f.label}
                type={f.type}
                enumOptions={f.enumOptions}
                value={item[f.field]}
                onChange={v => handleItemInput(item.id, f.field, v)}
                err={errors?.[`${itemTypeKey}.${item.id}.${f.field}`]}
              />
            )
          )}
        </div>
      )}
    </div>
  );
}
```
- No matter what shape the data becomes, this will render/expand/collapse and edit each field correctly.
- One clear file—not hundreds of repetitive lines for every possible field.

---

## Main Modal Use: Bringing It All Together

```tsx
{isFinanceSource(localSource) &&
  localSource.payments &&
  localSource.payments.map(payment => (
    <AccordionItem
      key={payment.id}
      item={payment}
      fieldConfig={PAYMENT_FIELDS}
      itemTypeKey="payment"
      isOpen={!!openItemAccordions[payment.id]}
      toggleOpen={() => setOpenItemAccordions(prev => ({ ...prev, [payment.id]: !prev[payment.id] }))}
      handleItemInput={handleItemInput}
      errors={errors}
    />
  ))
}
{isInvestmentSource(localSource) &&
  localSource.items &&
  localSource.items.map(item => (
    <AccordionItem
      key={item.id}
      item={item}
      fieldConfig={ITEM_FIELDS}
      itemTypeKey="item"
      isOpen={!!openItemAccordions[item.id]}
      toggleOpen={() => setOpenItemAccordions(prev => ({ ...prev, [item.id]: !prev[item.id] }))}
      handleItemInput={handleItemInput}
      errors={errors}
    />
  ))
}
```

All arrays map cleanly, and handlers/configs are passed in for complete flexibility. No repeated code, just reusable legos.

---

## Clean Modal Controls

```tsx
<div className="flex justify-end gap-2 mt-4">
  <button
    onClick={onClose}
    className="px-4 py-2 rounded bg-gray-200 text-gray-800 hover:bg-gray-300 font-semibold"
  >
    Cancel
  </button>
  <button
    onClick={handleSubmit}
    className="px-4 py-2 rounded bg-[#29388A] text-white hover:bg-blue-800 font-semibold"
  >
    Submit
  </button>
</div>
```
They do only what they need to, with zero drama.

---

## Final Reflections

Before the cleanup, this was a hot mess: one file, hundreds of lines, nearly impossible to trace. Now, thanks to focused components and field configs, I can extend and maintain everything with confidence. I can add or change fields, validation, or UI behaviors without ever touching 200 lines at once—maybe just 10, in the right place.

**Maintainability is gold.**  
This process cemented how much TypeScript + React + good planning = massive time and sanity savings. Don’t be afraid to modularize—even if it feels like “extra work.” It always pays off.

---

If you enjoyed this, found it useful, or have feedback, please share a comment! I’ll keep learning, building, and sharing—onward and upward!

---

#react #nextjs #typescript #refactor #frontend #webdevelopment #modal #forms #learningjourney #components #scalable #maintainable #ui #personalproject
14:["$","$L12","fromChaosToClarity",{"post":{"metadata":{"title":"From Chaos to Clarity: How I Refactored My Edit Modal into Maintainable, Scalable React Components","subtitle":"","publishedAt":"2026-01-21","summary":"","image":"/newPortfolio/images/gallery/myfinancelogo.png","images":[],"tag":"Learning Journey","team":[],"link":""},"slug":"fromChaosToClarity","content":"$27"},"thumbnail":false,"direction":"$undefined"}]
15:["$","$L7",null,{"fillWidth":true,"paddingLeft":"64","horizontal":"end","children":["$","div",null,{"ref":"$undefined","className":"display-flex position-relative neutral-background-strong flex-row min-width-0 fill-width ","style":{"maxWidth":"48rem","minWidth":"$undefined","minHeight":"var(--static-space-1)","maxHeight":"$undefined","width":"$undefined","height":"var(--static-space-1)","aspectRatio":"$undefined","textAlign":"$undefined","cursor":"$undefined"},"children":"$undefined"}]}]
24:["$","$L28",null,{}]
25:[["$","$L3",null,{"as":"section","fill":true,"center":true,"paddingBottom":"160","children":[["$","span",null,{"className":"font-display font-strong font-xl mb-s","style":{"textAlign":"$undefined","textWrap":"$undefined"},"children":"404"}],["$","h1",null,{"className":"font-display font-default font-xs neutral-on-background-strong mb-l","style":{"textAlign":"$undefined","textWrap":"balance"},"children":"Page Not Found"}],["$","span",null,{"className":"neutral-on-background-weak","style":{"textAlign":"$undefined","textWrap":"$undefined"},"children":"The page you are looking for does not exist."}]]}],[]]
26:["$","$L7",null,{"as":"footer","fillWidth":true,"padding":"8","horizontal":"center","s":{"direction":"column"},"children":[["$","$L7",null,{"className":"Footer-module-scss-module__DkSkqG__mobile","maxWidth":"m","paddingY":"8","paddingX":"16","gap":"16","horizontal":"between","vertical":"center","s":{"direction":"column","horizontal":"center","align":"center"},"children":[["$","span",null,{"className":"font-body font-default font-s neutral-on-background-strong","style":{"textAlign":"$undefined","textWrap":"$undefined"},"children":[["$","span",null,{"className":"neutral-on-background-weak","style":{"textAlign":"$undefined","textWrap":"$undefined"},"children":["© ",2026," /"]}],["$","span",null,{"className":"px-4","style":{"textAlign":"$undefined","textWrap":"$undefined"},"children":"Doruk Kocausta"}]]}],["$","$L7",null,{"gap":"16","children":[["$","$L29","GitHub",{"href":"https://github.com/kedycatsudo","icon":"github","tooltip":"GitHub","size":"s","variant":"ghost"}],["$","$L29","LinkedIn",{"href":"https://www.linkedin.com/in/dorukkocausta/","icon":"linkedin","tooltip":"LinkedIn","size":"s","variant":"ghost"}],["$","$L29","Email",{"href":"mailto:dkocausta.linkedin@gmail.com","icon":"email","tooltip":"Email","size":"s","variant":"ghost"}]]}]]}],["$","$L7",null,{"height":"80","hide":true,"s":{"hide":false}}]]}]
1b:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
2a:I[27201,["/newPortfolio/_next/static/chunks/ff1a16fafef87110.js","/newPortfolio/_next/static/chunks/1a476e30dee46234.js"],"IconMark"]
1d:[["$","title","0",{"children":"Doruk Kocausta's Portfolio"}],["$","meta","1",{"name":"description","content":"Portfolio website showcasing my work as a Full-Stack Web Developer"}],["$","meta","2",{"property":"og:title","content":"Doruk Kocausta's Portfolio"}],["$","meta","3",{"property":"og:description","content":"Portfolio website showcasing my work as a Full-Stack Web Developer"}],["$","meta","4",{"property":"og:url","content":"https://kedycatsudo.github.io/newPortfolio/"}],["$","meta","5",{"property":"og:image","content":"https://kedycatsudo.github.io/newPortfolio/images/og/home.jpg"}],["$","meta","6",{"property":"og:image:alt","content":"Doruk Kocausta's Portfolio"}],["$","meta","7",{"property":"og:type","content":"website"}],["$","meta","8",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","9",{"name":"twitter:title","content":"Doruk Kocausta's Portfolio"}],["$","meta","10",{"name":"twitter:description","content":"Portfolio website showcasing my work as a Full-Stack Web Developer"}],["$","meta","11",{"name":"twitter:image","content":"https://kedycatsudo.github.io/newPortfolio/images/og/home.jpg"}],["$","link","12",{"rel":"icon","href":"/newPortfolio/favicon.ico?favicon.433fb4fb.ico","sizes":"620x661","type":"image/x-icon"}],["$","$L2a","13",{}]]
19:null
